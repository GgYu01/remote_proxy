# 2025 代理协议全景深度解析 (Knowledge Base)

## 1. 核心结论 (Executive Summary)

针对您提出的三个核心问题，基于 2025 年最新的互联网攻防态势（GFW 升级与深度包检测 DPI 技术），结论如下：

### Q1: 哪种伪装方式更合理？ (Most Reasonable Disguise)
**理论王者**: **NaiveProxy**
- **原理**: 它不仅仅是“伪装”成 Chrome，它直接使用了 Chromium 的网络栈。对于中间人（GFW/ISP）来说，它的流量特征与标准 HTTPS/2 浏览完全一致。
- **缺点**: 性能损耗较高（HTTPS in HTTPS），且配置复杂，客户端支持较少。

**工程王者**: **VLESS + Vision + Reality**
- **原理**: 不伪装成浏览器，而是“寄生”在合法的大型网站（如 Microsoft/Apple）上。它窃取目标网站的 TLS 握手，使得 GFW 无法区分你是去访问 Microsoft 还是在连接代理。
- **优势**: 无需域名，无需证书维护，抗主动探测能力极强。

### Q2: 最不会被被访问源网页发现的协议是什么？ (Stealth vs Target)
**答案**: **NaiveProxy**
- **原因**: 目标网站通过 **TLS 指纹 (JA3/JA4)** 识别客户端。
  - **NaiveProxy**: 指纹 = 真实 Chrome。目标网站认为是真实用户。
  - **Sing-box/Xray (VLESS)**: 使用 `uTLS` 库模拟 Chrome 指纹。虽然能骗过 GFW，但对于极其严格的目标（如某些银行/Cloudflare 高盾），模拟的指纹可能仍有细微差异。
- **注意**: 目标网站识别代理的**最主要手段是 IP 地址**（数据中心 IP 库），而非协议。如果你的 IP 是 AWS/Google Cloud，无论用什么协议都会被标记。

### Q3: 最容易穿越防火墙的协议是什么？ (Firewall Penetration)
**答案**: **Hysteria 2** (UDP/QUIC)
- **场景**: 弱网环境、丢包率高、带宽拥塞。
- **原理**: 基于 UDP 的拥塞控制协议，暴力抢占带宽。配合 **Port Hopping (端口跳跃)** 技术，能有效对抗 GFW 的针对性封锁。
- **风险**: 运营商（ISP）可能会对大流量 UDP 进行 QoS 限速或阻断。

---

## 2. 协议深度对比 (Protocol Comparison)

| 维度 | **VLESS + Vision + Reality** | **Hysteria 2** | **NaiveProxy** | **Trojan** |
| :--- | :--- | :--- | :--- | :--- |
| **底层传输** | TCP (XTLS) | UDP (QUIC) | TCP/UDP (Chromium) | TCP (TLS) |
| **防火墙穿透** | ⭐⭐⭐⭐⭐ (极高) | ⭐⭐⭐⭐ (高，依赖端口跳跃) | ⭐⭐⭐⭐⭐ (完美) | ⭐⭐⭐ (中，SNI 暴露) |
| **目标隐匿性** | ⭐⭐⭐ (模拟指纹) | ⭐⭐⭐ (QUIC 指纹) | ⭐⭐⭐⭐⭐ (真实指纹) | ⭐⭐⭐ (模拟指纹) |
| **性能/速度** | ⭐⭐⭐⭐ (高) | ⭐⭐⭐⭐⭐ (暴力) | ⭐⭐⭐ (中) | ⭐⭐⭐ (中) |
| **内存占用** | ⭐⭐⭐⭐⭐ (极低) | ⭐⭐⭐ (中) | ⭐⭐ (高，Chrome内核) | ⭐⭐⭐ (中) |
| **部署难度** | 低 (无域名) | 中 (需自签证书) | 高 (需编译/复杂配置) | 中 (需域名证书) |

## 3. 对本项目的启示 (Implication)

基于您的 **“省内存” (<50MB)** 和 **“Podman”** 需求，**NaiveProxy 不是最佳选择**（Chromium 栈非常吃内存）。

**VLESS + Vision + Reality** 是当前环境下的**最优解**：
1.  **极度省内存**: Sing-box Core 仅需 ~20MB。
2.  **极度省流量**: Vision 流控减少了握手冗余。
3.  **足够的隐匿性**: 配合 `stack: system` 和 `uTLS`，已能骗过 99% 的目标网站。

**决策调整**:
- 我们在 [D-003] 中选择的 **VLESS + Reality** 路线是完全正确的。
- 如果未来您的 VPS 线路变差（丢包严重），可以考虑切换到 **Hysteria 2**。

---
*Generated by Sisyphus Agent - 2025/02*
